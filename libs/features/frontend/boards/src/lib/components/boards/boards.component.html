<mat-table
  [dataSource]="dataSource"
  matSort
  cdkDropListOrientation="horizontal"
  cdkDropList 
  (cdkDropListDropped)="tableDrop($event)"
  class="mat-elevation-z8"
>
  <ng-container
    *ngFor="let column of columns"
    [matColumnDef]="column.name"
  >
    <mat-header-cell
      *matHeaderCellDef
      mat-sort-header
      sortActionDescription="Sort by number"
      cdkDrag
      cdkDragLockAxis="x"
    >
      {{ column.title }}
    </mat-header-cell>
    <mat-cell *matCellDef="let element">{{ element[column.name] }}</mat-cell>
  </ng-container>

  <mat-header-row
    *matHeaderRowDef="displayedColumns"
    class="tableHeaderRow"
    #tableHeaderRow
  ></mat-header-row>
  <mat-header-row mat-row *matRowDef="let row; columns: displayedColumns"></mat-header-row>
</mat-table>

<mat-paginator
  [pageSizeOptions]="[5, 10, 20]"
  showFirstLastButtons
  aria-label="Select page of periodic elements"
>
</mat-paginator>
